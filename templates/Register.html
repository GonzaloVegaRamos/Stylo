<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Login con Google - Supabase</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  </head>
  <body>
    <h1>Login con Google</h1>
    <button id="google-login">Iniciar sesión con Google</button>

    <script>
      // Inicializa Supabase con tu URL y anon key (pon las tuyas reales aquí)
      const supabaseUrl = "https://tusupabaseurl.supabase.co";
      const supabaseAnonKey = "tu-anon-key-aqui";
      const supabase = supabase.createClient(supabaseUrl, supabaseAnonKey);

      document
        .getElementById("google-login")
        .addEventListener("click", async () => {
          const { error } = await supabase.auth.signInWithOAuth({
            provider: "google",
            options: {
              // Aquí puedes poner redirectTo si quieres que después vuelva a tu web
              redirectTo: window.location.origin,
            },
          });
          if (error) {
            alert("Error al iniciar sesión: " + error.message);
          }
        });

      // Opcional: para manejar la sesión después del redirect
      supabase.auth.getSession().then(({ data: { session } }) => {
        if (session) {
          console.log("Usuario logueado:", session.user);
          // Aquí puedes redirigir o mostrar contenido
        }
      });
    </script>
  </body>
</html>
